{"version":3,"sources":["reducers/card.js","components/Card/index.jsx","components/Card/Skeleton.jsx","components/Products/index.jsx","data/products.js","reducers/products.js","App.js","index.js","assets/images/cat.png"],"names":["card","state","action","type","isSelected","payload","isHovered","isDisabled","initialState","Card","index","item","disabled","React","useReducer","cardReducer","dispatch","desc","title","taste","stock","weight","unit","handleSelection","useCallback","onMouseEnter","onMouseLeave","handleKeyboard","className","classNames","role","tabIndex","onClick","onKeyDown","src","catImage","alt","CardSkeleton","speed","width","height","backgroundColor","foregroundColor","x","y","rx","ry","cx","cy","r","Products","items","map","key","id","Array","fill","_","products","isLoading","App","productsReducer","useEffect","setTimeout","data","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.facb5342.chunk.js","sourcesContent":["const card = (state, action) => {\n  switch(action.type) {\n  case 'SET_SELECTED': {\n    return {\n      ...state,\n      isSelected: action.payload,\n    };\n  }\n  case 'SET_HOVERED': {\n    return {\n      ...state,\n      isHovered: action.payload,\n    };\n  }\n  case 'SET_DISABLED': {\n    return {\n      ...state,\n      isDisabled: action.payload,\n    };\n  }\n  default: return state;\n  }\n};\n\nexport default card;\n","import React from 'react';\nimport classNames from 'classnames';\nimport catImage from '../../assets/images/cat.png';\nimport cardReducer from '../../reducers/card';\n\nconst initialState = {\n  isSelected: false,\n  isHovered: false,\n};\n\nconst Card = ({ index, item, disabled: isDisabled }) => {\n  const [state, dispatch] = React.useReducer(cardReducer, initialState);\n  const { desc, title, taste, stock, weight, unit } = item;\n  const { isHovered, isSelected } = state;\n  \n  const handleSelection = React.useCallback(() => {\n    dispatch({\n      type: 'SET_SELECTED',\n      payload: !isSelected,\n    });\n    \n    dispatch({\n      type: 'SET_HOVERED',\n      payload: false,\n    });\n  }, [isSelected]);\n\n  const onMouseEnter = React.useCallback(() => {\n    dispatch({\n      type: 'SET_HOVERED',\n      payload: true,\n    });\n  });\n  \n  const onMouseLeave = React.useCallback(() => {\n    dispatch({\n      type: 'SET_HOVERED',\n      payload: false,\n    });\n  });\n\n  const handleKeyboard = React.useCallback(() => {\n    // TODO: implement Tab and Enter/Space handling\n  });\n\n  return (\n    <div className={classNames(\n      'card',\n      { 'card--selected': isSelected, 'card--disabled': isDisabled },\n    )}>\n      <div\n        className=\"card__content\"\n        role=\"button\"\n        tabIndex={index}\n        onMouseEnter={onMouseEnter}\n        onMouseLeave={onMouseLeave}\n        onClick={handleSelection}\n        onKeyDown={handleKeyboard}>\n        <div className=\"card__content-root\">\n          <p className={classNames(\n            'card__description',\n            { 'card__description--selected': isSelected && isHovered },\n          )}>\n            {isSelected && isHovered\n              ? <>Котэ не одобряет?</>\n              : <>Сказочное заморское яство</>}\n          </p>\n          <h6 className=\"card__title\">{title}</h6>\n          <p className=\"card__taste\">{taste}</p>\n          <p className=\"card__description card__description--small\">{stock}</p>\n          <div className=\"card__weight\">\n            {weight}\n            <span className=\"card__weight-unit\">{unit}</span>\n          </div>\n          <img className=\"card__image\" src={catImage} alt={`${title} ${taste}`} />\n        </div>\n      </div>\n      {isDisabled\n        ? (<div className=\"card__footer\">\n          {`Печалька, ${taste} закончился.`}\n        </div>)\n        : (<div className=\"card__footer\">\n          {isSelected\n            ? <>{desc}</>\n            : <>\n              Чего сидишь? Порадуй котэ, <button\n                type=\"button\"\n                className=\"card__link\"\n                onClick={handleSelection}>купи</button>\n            </>}\n        </div>)}\n    </div>\n  );\n};\n\nexport default Card;\n","import React from 'react';\nimport ContentLoader from 'react-content-loader';\n\nconst CardSkeleton = () => {\n  return (\n    <div className=\"skeleton\">\n      <ContentLoader\n        className=\"skeleton__root\"\n        speed={2}\n        width={320}\n        height={480}\n        backgroundColor=\"#e9e9e9\"\n        foregroundColor=\"#dcdcdc\">\n        <rect x=\"0\" y=\"4\" rx=\"6\" ry=\"6\" width=\"200\" height=\"16\" />\n        <rect x=\"0\" y=\"36\" rx=\"10\" ry=\"10\" width=\"200\" height=\"36\" />\n        <rect x=\"0\" y=\"86\" rx=\"8\" ry=\"8\" width=\"140\" height=\"24\" />\n        <rect x=\"0\" y=\"126\" rx=\"6\" ry=\"6\" width=\"180\" height=\"16\" />\n        <circle cx=\"203\" cy=\"398\" r=\"42\" />\n      </ContentLoader>\n      <ContentLoader\n        className=\"skeleton__footer\"\n        speed={2}\n        width={320}\n        height={20}\n        backgroundColor=\"#eee\"\n        foregroundColor=\"#aaa\">\n        <rect x=\"30\" y=\"0\" rx=\"4\" ry=\"4\" width=\"260\" height=\"12\" /> \n      </ContentLoader>\n    </div>\n  );\n};\n\nexport default CardSkeleton;\n","import React from 'react';\nimport { Card, CardSkeleton } from '..';\n\nconst Products = ({ items }) => {\n  return (\n    <ul className=\"products\">\n      {items\n        ? items.map((item, index) => (\n          <li key={`${item.id}`} className=\"products__item\">\n            <Card index={index} item={item} />\n          </li>\n        ))\n        : Array(3)\n          .fill(0)\n          .map((_, index) => <CardSkeleton key={index} />)}\n    </ul>\n  );\n};\n\nexport default Products;\n","export default [\n  { \n    id: 0,\n    desc: 'Печень утки разварная с артишоками',\n    title: 'Нямушка',\n    taste: 'с фуа-гра',\n    stock: '10 порций мышь в подарок',\n    weight: 0.5,\n    unit: 'кг',\n  },\n  { \n    id: 1,\n    desc: 'Головы щучьи с чесноком да свежайшая сёмгушка.',\n    title: 'Нямушка',\n    taste: 'с рыбой',\n    stock: '40 порций 2 мыши в подарок',\n    weight: 2,\n    unit: 'кг',\n  },\n  { \n    id: 2,\n    desc: 'Филе из цыплят с трюфелями в бульоне.',\n    title: 'Нямушка',\n    taste: 'курой',\n    stock: '100 порций 5 мышей в подарок',\n    weight: 5,\n    unit: 'кг',\n  },\n];\n","const products = (state, action) => {\n  switch(action.type) {\n  case 'FETCH_PRODUCTS': {\n    return {\n      ...state,\n      isLoading: true,\n    };\n  }\n  case 'FETCH_SUCCESS': {\n    return {\n      ...state,\n      isLoading: false,\n    };\n  }\n  case 'SET_PRODUCTS': {\n    return {\n      ...state,\n      items: action.payload,\n    };\n  }\n  default: return state;\n  }\n};\n\nexport default products;\n","import React from 'react';\nimport { Products } from './components';\nimport data from './data/products';\nimport productsReducer from './reducers/products';\n\nconst initialState = {\n  isLoading: false,\n  items: [],\n};\n\nconst App = () => {\n  const [state, dispatch] = React.useReducer(productsReducer, initialState);\n  const { isLoading, items } = state;\n\n  // simulate data fetching after mount\n  React.useEffect(() => {\n    dispatch({\n      type: 'FETCH_PRODUCTS',\n    });\n\n    setTimeout(() => {\n      dispatch({\n        type: 'FETCH_SUCCESS',\n      });\n    }, 1500);\n\n    dispatch({\n      type: 'SET_PRODUCTS',\n      payload: data,\n    });\n  }, []);\n\n  return (\n    <main className=\"container\">\n      <h1 className=\"main-title\">Ты сегодня покормил кота?</h1>\n      \n      {isLoading\n        ? <Products />\n        : <Products items={items} /> }\n    </main>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport { render } from 'react-dom';\nimport App from './App';\nimport './assets/styles/app.scss';\n\nrender(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","module.exports = __webpack_public_path__ + \"static/media/cat.4277d519.png\";"],"sourceRoot":""}